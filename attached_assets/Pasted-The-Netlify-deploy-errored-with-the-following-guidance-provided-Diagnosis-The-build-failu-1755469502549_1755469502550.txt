The Netlify deploy errored, with the following guidance provided:

**Diagnosis:**
The build failure is due to the `vite` command not being found during the build process, which leads to a non-zero exit code.

**Solution:**
1. Since the `vite` command is not found, you need to ensure that Vite is listed as a dependency in your project.
2. Verify that Vite is included in your `package.json` file by running `npm list vite` locally.
3. If Vite is missing from your `package.json`, you should add it as a dependency by running `npm install vite --save` in your project directory.
4. Make sure to commit the changes to your repository.
5. After adding Vite as a dependency in your project, trigger a new build on Netlify to see if the issue is resolved.

If Vite is still not recognized after following these steps, you may need to review your build setup or configuration to ensure Vite is properly installed and accessible during the build process.

The relevant error logs are:

Line 0: build-image version: e5074bde24e53715f94c72a3902b7868fbfe84e1 (noble)
Line 1: buildbot version: e2595138a7c5ab9f292ccfa2932733582fe0dc65
Line 2: Fetching cached dependencies
Line 3: Failed to fetch cache, continuing with build
Line 4: Starting to prepare the repo for build
Line 5: No cached dependencies found. Cloning fresh repo
Line 6: git clone --filter=blob:none https://github.com/alpesh15gb/keystoneinfra
Line 7: Preparing Git Reference refs/heads/main
Line 8: Custom publish path detected. Proceeding with the specified path: 'dist/public'
Line 9: Custom build command detected. Proceeding with the specified command: 'npm run build'
Line 10: Starting to install dependencies
Line 11: v22.18.0 is already installed.
Line 12: Now using node v22.18.0 (npm v10.9.3)
Line 13: Enabling Node.js Corepack
Line 45: [36m[1mâ€‹[22m[39m
Line 46: [36m[1mâ¯ Config file[22m[39m
Line 47:   /opt/build/repo/netlify.toml
Line 48: [36m[1mâ€‹[22m[39m
Line 49: [36m[1mâ¯ Context[22m[39m
Line 50:   production
Line 51: [96m[1mâ€‹[22m[39m
Line 52: [96m[1mbuild.command from netlify.toml                               [22m[39m
Line 53: [96m[1mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[22m[39m
Line 54: â€‹
Line 55: Failed during stage 'building site': Build script returned non-zero exit code: 2
Line 56: [36m$ npm run build[39m
Line 57: > rest-express@1.0.0 build
Line 58: > vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist
Line 59: sh: 1: vite: not found
Line 60: [91m[1mâ€‹[22m[39m
Line 61: [91m[1m"build.command" failed                                        [22m[39m
Line 62: [91m[1mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[22m[39m
Line 63: â€‹
Line 64:   [31m[1mError message[22m[39m
Line 65:   Command failed with exit code 127: npm run build
Line 66: â€‹
Line 67:   [31m[1mError location[22m[39m
Line 68:   In build.command from netlify.toml:
Line 69:   npm run build
Line 70: â€‹
Line 71:   [31m[1mResolved config[22m[39m
Line 72:   build:
Line 73:     command: npm run build
Line 74:     commandOrigin: config
Line 75:     environment:
Line 76:       - NODE_ENV
Line 77:     publish: /opt/build/repo/dist/public
Line 78:     publishOrigin: config
Line 79:   functions:
Line 80:     "*":
Line 81:       node_bundler: esbuild
Line 82:   redirects:
Line 83:     - from: /api/*
      status: 200
      to: /.netlify/functions/server
    - from: /*
      status: 200
      to: /index.html
Line 84: Build failed due to a user error: Build script returned non-zero exit code: 2
Line 85: Failing build: Failed to build site
Line 86: Finished processing build request in 12.555s